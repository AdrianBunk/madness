#ifndef OUTPUTWRITER_H_
#define OUTPUTWRITER_H_

#include <fstream>

class OutputWriter
{
public:
  //***************************************************************************
  static OutputWriter* instance()
  {
    if (!_instance)
      _instance = new OutputWriter();
    return _instance;
  }
  //***************************************************************************

  //***************************************************************************
  void init_debug(char* filename)
  {
    dostr = new ofstream(filename);
  }
  //***************************************************************************

  //***************************************************************************
  void init_log(char* filename)
  {
    lostr = new ofstream(filename);
  }
  //***************************************************************************

  //***************************************************************************
  void init_eigv(char* filename)
  {
    evostr = new ofstream(filename);
  }
  //***************************************************************************

  //***************************************************************************
  virtual ~OutputWriter()
  {
    if (dostr) delete dostr;
    if (lostr) delete lostr;
    if (evostr) delete evostr;
  }
  //***************************************************************************

  //***************************************************************************
  ofstream* debug_stream()
  {
    return dostr;
  }
  //***************************************************************************

  //***************************************************************************
  ofstream* log_stream()
  {
    return lostr;
  }
  //***************************************************************************

  //***************************************************************************
  ofstream* eigv_stream()
  {
    return evostr;
  }
  //***************************************************************************

private:
  //***************************************************************************
  OutputWriter()
  {
    dostr = 0;
    lostr = 0;
    evostr = 0;
  }
  //***************************************************************************

  //***************************************************************************
  static OutputWriter* _instance;
  //***************************************************************************

  //***************************************************************************
  ofstream* dostr;
  //***************************************************************************

  //***************************************************************************
  ofstream* lostr;
  //***************************************************************************

  //***************************************************************************
  ofstream* evostr;
  //***************************************************************************
};

OutputWriter* OutputWriter::_instance = 0;

#endif /* OUTPUTWRITER_H_ */
